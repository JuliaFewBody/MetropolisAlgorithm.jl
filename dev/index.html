<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · MetropolisAlgorithm.jl</title><meta name="title" content="Home · MetropolisAlgorithm.jl"/><meta property="og:title" content="Home · MetropolisAlgorithm.jl"/><meta property="twitter:title" content="Home · MetropolisAlgorithm.jl"/><meta name="description" content="Documentation for MetropolisAlgorithm.jl."/><meta property="og:description" content="Documentation for MetropolisAlgorithm.jl."/><meta property="twitter:description" content="Documentation for MetropolisAlgorithm.jl."/><meta property="og:url" content="https://ohno.github.io/MetropolisAlgorithm.jl/"/><meta property="twitter:url" content="https://ohno.github.io/MetropolisAlgorithm.jl/"/><link rel="canonical" href="https://ohno.github.io/MetropolisAlgorithm.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script><link href="assets/logo.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="assets/logo.svg" alt="MetropolisAlgorithm.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href>MetropolisAlgorithm.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Install"><span>Install</span></a></li><li><a class="tocitem" href="#Usage"><span>Usage</span></a></li><li><a class="tocitem" href="#Citation"><span>Citation</span></a></li></ul></li><li><a class="tocitem" href="examples/">Examples</a></li><li><a class="tocitem" href="API/">API reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ohno/MetropolisAlgorithm.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ohno/MetropolisAlgorithm.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="MetropolisAlgorithm.jl"><a class="docs-heading-anchor" href="#MetropolisAlgorithm.jl">MetropolisAlgorithm.jl</a><a id="MetropolisAlgorithm.jl-1"></a><a class="docs-heading-anchor-permalink" href="#MetropolisAlgorithm.jl" title="Permalink"></a></h1><p><a href="https://ohno.github.io/MetropolisAlgorithm.jl/stable/"><img src="https://img.shields.io/badge/docs-stable-blue.svg" alt="Stable"/></a> <a href="https://ohno.github.io/MetropolisAlgorithm.jl/dev/"><img src="https://img.shields.io/badge/docs-dev-blue.svg" alt="Dev"/></a> <a href="https://github.com/ohno/MetropolisAlgorithm.jl/actions/workflows/CI.yml?query=branch%3Amain"><img src="https://github.com/ohno/MetropolisAlgorithm.jl/actions/workflows/CI.yml/badge.svg?branch=main" alt="Build Status"/></a></p><p>Minimal implementation of the Metropolis algorithm.</p><h2 id="Install"><a class="docs-heading-anchor" href="#Install">Install</a><a id="Install-1"></a><a class="docs-heading-anchor-permalink" href="#Install" title="Permalink"></a></h2><p>Run the following code to install this package.</p><pre><code class="language-julia hljs">import Pkg; Pkg.add(url=&quot;https://github.com/ohno/MetropolisAlgorithm.jl.git&quot;)</code></pre><h2 id="Usage"><a class="docs-heading-anchor" href="#Usage">Usage</a><a id="Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Usage" title="Permalink"></a></h2><p>Run the following code before each use.</p><pre><code class="language-julia hljs">using MetropolisAlgorithm</code></pre><p>Here is a minimal working example for 1-walker x 10000-steps, 2-dimensional Metropolis-walk using <code>metropolis()</code>. This function returns the trajectory as a vector of vectors (points), where the first argument is the (normalized or unnormalized) distribution function, and the second argument is the initial value vector. Optional arguments can be used to set the number of steps, element type (Float32, Float64, etc.), and the maximum step size. </p><pre><code class="language-julia hljs">using MetropolisAlgorithm
p(r) = exp(- r&#39; * r)  # distribution function
r₀ = [0.0, 0.0]       # initial position
R = metropolis(p, r₀) # 1-walker x 10000-steps</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">10000-element Vector{Vector{Float64}}:
 [0.0, 0.0]
 [-0.16019102845573407, 0.30505044660351666]
 [-0.309797182809722, -0.06024652652290241]
 [-0.7883872390512094, 0.3192109693188687]
 [-0.6383550519119972, 0.6640963887876735]
 [-1.134085818191973, 0.5847919225407727]
 [-0.7764175639440242, 0.31816765830724014]
 [-0.7764175639440242, 0.31816765830724014]
 [-0.5828195260944246, -0.16804356067977533]
 [-0.5420365839177284, 0.2187708849283705]
 ⋮
 [0.6073944057906099, -1.5253695364046191]
 [1.0603474850658055, -1.160412360562392]
 [0.6081430687876129, -1.1187719666452902]
 [0.6081430687876129, -1.1187719666452902]
 [0.6081430687876129, -1.1187719666452902]
 [0.522476938583362, -0.9120814440423577]
 [0.29935511100544376, -1.091199637179203]
 [0.42469749120613887, -0.712492255134698]
 [0.04389432530115667, -0.38844975202147414]</code></pre><p>In the variational Monte Carlo method (VMC), sampling is performed simultaneously with multiple walkers (rather than just one walker). Here is an example of 10000-walkers x 5-steps, 2-dimensional Metropolis-walk using <code>metropolis!()</code>. This function overwrites its second argument without memory allocation, where the first argument is the (normalized or unnormalized) distribution function, and the second argument is the vector of the initial value vectors. Use the For statement to repeat as many times as you like. Remove the first several steps by yourself to ensure equilibrium.</p><pre><code class="language-julia hljs">using MetropolisAlgorithm
p(x) = exp(- x&#39; * x)              # distribution function
R = [[0.0, 0.0] for i in 1:10000] # initial position(s)
metropolis!(p, R)                 # the 1st step of 10000-walkers
metropolis!(p, R)                 # the 2nd step of 10000-walkers
metropolis!(p, R)                 # the 3rd step of 10000-walkers
metropolis!(p, R)                 # the 4th step of 10000-walkers
metropolis!(p, R)                 # the 5th step of 10000-walkers</code></pre><p>Please see <a href="examples/">Examples</a> and <a href="API/">API reference</a> for more information.</p><h2 id="Citation"><a class="docs-heading-anchor" href="#Citation">Citation</a><a id="Citation-1"></a><a class="docs-heading-anchor-permalink" href="#Citation" title="Permalink"></a></h2><p>Please cite this package, the original paper by Metropolis et al. and the textbook by Thijssen:</p><ul><li><a href="https://doi.org/10.1063/1.1699114">N. Metropolis, A. W. Rosenbluth, M. N. Rosenbluth, A. H. Teller, E. Teller, <em>J. Chem. Phys.</em>, <strong>21</strong>, 1087–1092 (1953)</a>,</li><li><a href="https://doi.org/10.1017/CBO9781139171397">J. M. Thijssen, <em>Computational Physics 2nd edition</em>, (Cambridge University Press, 2007)</a>.</li></ul><pre class="documenter-example-output"><code class="nohighlight hljs ansi">@misc{MetropolisAlgorithm.jl,
  author  = {Shuhei Ohno},
  title   = {MetropolisAlgorithm.jl},
  url     = {https://github.com/ohno/MetropolisAlgorithm.jl},
  version = {v0.0.1},
  year    = {2025},
  month   = {6}
}

@article{Metropolis1953,
  author    = {Metropolis, Nicholas and Rosenbluth, Arianna W. and Rosenbluth, Marshall N. and Teller, Augusta H. and Teller, Edward},
  title     = {Equation of State Calculations by Fast Computing Machines},
  journal   = {The Journal of Chemical Physics},
  volume    = {21},
  number    = {6},
  pages     = {1087-1092},
  publisher = {AIP Publishing},
  year      = {1953},
  month     = jun,
  url       = {http://dx.doi.org/10.1063/1.1699114},
  DOI       = {10.1063/1.1699114},
  ISSN      = {1089-7690}
}

@book{Thijssen2007,
  author    = {Thijssen, Jos M.},
  title     = {Computational Physics},
  year      = {2007},
  month     = mar,
  publisher = {Cambridge University Press},
  url       = {http://dx.doi.org/10.1017/CBO9781139171397},
  DOI       = {10.1017/cbo9781139171397},
  ISBN      = {9781107677135}
}</code></pre></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.12.0 on <span class="colophon-date" title="Monday 16 June 2025 22:14">Monday 16 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
